import * as React from 'react';
import PT from 'prop-types';
import Lenke from 'nav-frontend-lenker';

const httpRegex = /^(https?):\/\/.*$/;

export interface SpanFragmentProps {
    children: string;
}

export class SpanFragment extends React.Component<SpanFragmentProps> {
    render() {
        const { children } = this.props;

        if (!children || children.length === 0) {
            return null;
        }
        return <span {...this.props}>{children}</span>;
    }
}

export interface LenkeFragmentProps {
    href: string;
}

export class LenkeFragment extends React.Component<LenkeFragmentProps> {
    render() {
        const { href } = this.props;

        if (!href || href.length === 0) {
            return null;
        }
        const matched = href.match(httpRegex) ? href : `http://${href}`;
        return (
            <Lenke target="_blank" href={matched} {...this.props}>
              {matched}
            </Lenke>
        );
    }
}
