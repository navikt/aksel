import React, { Component } from 'react';
import { PropTypes as PT } from 'prop-types';
import classNames from 'classnames';

class ToggleGruppe extends Component { // eslint-disable-line react/prefer-stateless-function
    render() {
        const { children, name, onChange, className } = this.props;
        const cls = (classes) => classNames('toggle', classes);

        return (
            <div className={cls(className)}>
                { children.map((toggleKnapp) => (
                    React.cloneElement(toggleKnapp, { name, onChange, key: toggleKnapp.props.value })))
                }
            </div>
        );
    }
}

ToggleGruppe.defaultProps = {
    className: '',
    onChange: undefined
};

ToggleGruppe.propTypes = {
    /**
     * Et sett med ToggleKnapp-er
     */
    children: PT.node.isRequired,
    /**
     * className
     */
    className: PT.string,
    /**
     * Navnet som brukes på radio button gruppen
     */
    name: PT.string.isRequired,
    /**
     * Funksjon som håndterer endring av valgt knapp.
     * Funksjonen tar event. Iden til det klikkede elementet ligger på e.target.value
     * onChange kalles hver gang en knapp blir trykket.
     */
    onChange: PT.func
};

export default ToggleGruppe;
